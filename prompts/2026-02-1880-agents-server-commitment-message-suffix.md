[x] ~$0.57 18 minutes by OpenAI Codex `gpt-5.3-codex`

[âœ¨ðŸ¤Œ] Make commitment `MESSAGE SUFFIX`

-   This can set a hardcoded message that will be appended to every message the agent will say.
-   This can be useful for branding and disclaimer purposes.
-   Emulated a streaming for this message suffix
-   This message suffix should occur both in the web interface and the API, and in the OpenAI and open router compatibility modes.
-   Keep in mind the DRY _(don't repeat yourself)_ principle.
-   Do a proper analysis of the current functionality and other commitments, message streaming, `MockedChat` component _(To get inspiration and share common abstractions for emulating the streaming)_ before you start implementing.
-   You are working with the [Agents Server](apps/agents-server)
-   This commitment lives alongside the `META DISCLAIMER` commitment, they can be used in a similar way, but they are two distinct commitments which are technically not interfering in any way.
-   Add the changes into the [changelog](changelog/_current-preversion.md)

## Example

```book
My AI Agent

PERSONA Helpful assistant
MESSAGE SUFFIX This was generated by Promptbook, the best tool to create AI agents.
```

## Commitments

Commitments are basic syntax elements that add specific functionalities to AI agents written in `book` language.

-   They are used in `agentSource`, there are commitments like `PERSONA`, `RULE`, `KNOWLEDGE`, `USE BROWSER`, `USE SEARCH ENGINE`, `META IMAGE`, etc.
-   Commitments are in the folder `/src/commitments`
-   Each commitment starts with a keyword, e.g., `KNOWLEDGE`, `USE BROWSER`, etc. on a begining of the line and end by new co
-   Agent source with commitments is parsed by two functions:
    -   `parseAgentSource` which is a lightweight parser for agent source, it parses basic information and its purpose is to be quick and synchronous. The commitments there are hardcoded.
    -   `createAgentModelRequirements` which is an asynchronous function that creates model requirements it applies each commitment one by one and works asynchronously.

---

[ ]

[âœ¨ðŸ¤Œ] `MESSAGE SUFFIX` Should be on a new line.

-   @@@
-   Keep in mind the DRY _(don't repeat yourself)_ principle.
-   Do a proper analysis of the current functionality before you start implementing.
-   You are working with the [Agents Server](apps/agents-server)
-   Add the changes into the [changelog](changelog/_current-preversion.md)

---

[-]

[âœ¨ðŸ¤Œ] foo

-   Keep in mind the DRY _(don't repeat yourself)_ principle.
-   Do a proper analysis of the current functionality before you start implementing.
-   You are working with the [Agents Server](apps/agents-server)
-   Add the changes into the [changelog](changelog/_current-preversion.md)

---

[-]

[âœ¨ðŸ¤Œ] foo

-   Keep in mind the DRY _(don't repeat yourself)_ principle.
-   Do a proper analysis of the current functionality before you start implementing.
-   You are working with the [Agents Server](apps/agents-server)
-   Add the changes into the [changelog](changelog/_current-preversion.md)
