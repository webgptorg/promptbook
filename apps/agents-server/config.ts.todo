// TODO: !!!! Use the configuration from ConfigChecker
// TODO: !!!! Load config from `EnvironmentVariable` table, `EnvironmentVariable` has priority over `process.env` from `.env`
// TODO: !!!! Move variables from Vercel -> Supabase



import { CLI_APP_ID } from '@promptbook/core';
import { string_app_id } from '@promptbook/types';
import { spaceTrim } from '@promptbook/utils';
import { ConfigChecker } from 'configchecker';
import type { DallePrompt } from './src/ai/text-to-image/dalle/interfaces/DallePrompt';
import { validateAgentSource } from './src/book-2.0/agent-source/string_agent_source';
import { maxdown } from './src/components/Content/Maxdown/maxdown';
import type { LightModeDarkMode } from './src/components/LightModeDarkMode/utils/LightModeDarkMode';
import { DigitalOceanSpaces } from './src/utils/cdn/classes/DigitalOceanSpaces';
import type { BrjappOptions } from './src/utils/client/BrjappConnector';
import { validateUserId } from './src/utils/client/validateUserId';
import { validateDomain } from './src/utils/domains/validateDomain';
import type { EmailAddress } from './src/utils/emails/Email';
import { parseEmailAddress } from './src/utils/emails/utils/parseEmailAddress';
import { isRunningInBrowser } from './src/utils/isRunningInWhatever';
import type { string_char_emoji } from './src/utils/typeAliasEmoji';
import type { string_domain, string_maxdown, string_name } from './src/utils/typeAliases';
import { isUrlOnPrivateNetwork } from './src/utils/validators/isUrlOnPrivateNetwork';
import { validateUuid } from './src/utils/validators/validateUuid';

const config = ConfigChecker.from({
    ...process.env,

    // Note: To expose env variables to the browser, using this seemingly strange syntax:
    //       @see https://nextjs.org/docs/pages/building-your-application/configuring/environment-variables#exposing-environment-variables-to-the-browser
    NEXT_PUBLIC_URL: process.env.NEXT_PUBLIC_URL,

});

export const NEXT_PUBLIC_VERCEL_GIT_COMMIT_REF = config.get('NEXT_PUBLIC_VERCEL_GIT_COMMIT_REF').value;

const NEXT_PUBLIC_VERCEL_BRANCH_URL = config.get('NEXT_PUBLIC_VERCEL_BRANCH_URL').value;
