
-- Note: This is primary source of truth for the database schema
--       In future we want to be compatible with more then Supabase so we keep SQL as main schema definition


CREATE TABLE IF NOT EXISTS "Agent" (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    "agentName" TEXT NOT NULL,
    "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL,
    "updatedAt" TIMESTAMP WITH TIME ZONE NULL,
    "agentVersion" BIGINT NOT NULL,
    "promptbookEngineVersion" TEXT NOT NULL,
    usage JSONB NULL,
    "agentSource" TEXT NOT NULL,
    "agentProfile" JSONB NOT NULL,
    CONSTRAINT Agent_pkey PRIMARY KEY (id),
    CONSTRAINT Agent_agentName_key UNIQUE ("agentName")
);