CREATE TABLE IF NOT EXISTS "prefix_ApiTokens" (
    "id" BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    "createdAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now(),
    "updatedAt" TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT now(),

    "token" TEXT NOT NULL,
    "note" TEXT,
    "isRevoked" BOOLEAN NOT NULL DEFAULT FALSE
);

CREATE UNIQUE INDEX IF NOT EXISTS "prefix_ApiTokens_token_idx" ON "prefix_ApiTokens" ("token");

ALTER TABLE "prefix_ApiTokens" ENABLE ROW LEVEL SECURITY;
